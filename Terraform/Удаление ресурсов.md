### **–£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**
–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥

–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
```bash
terraform state list
```


–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã: </br>
‚úÖ –í—Å–µ–≥–¥–∞ —Å–Ω–∞—á–∞–ª–∞ plan -destroy - –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ destroy –±–µ–∑ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–ª–∞–Ω–∞

‚úÖ –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ - —É–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Ç–∏ –º–æ–∂–µ—Ç –∫–∞—Å–∫–∞–¥–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–æ–¥—Å–µ—Ç–∏

‚úÖ –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ø–ª–∞–Ω—ã - –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –∞—É–¥–∏—Ç–∞ –∏ –æ—Ç–∫–∞—Ç–∞

‚ùå –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è - –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–æ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è

–ü—Ä–∏–º–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:
```bash
# 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º
terraform plan -destroy -out=check.plan

# 2. –ò–∑—É—á–∞–µ–º
terraform show check.plan

# 3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º (–µ—Å–ª–∏ –≤—Å—ë –æ–∫)
terraform apply check.plan

# –ò–õ–ò –æ—Ç–º–µ–Ω—è–µ–º (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫)
rm check.plan
```
–ü—Ä–∏–º–µ—Ä —É–¥–∞–ª–µ–Ω–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (—Å–µ—Ç–∏ –∏ –ø–æ–¥—Å–µ—Ç–∏)
```bash
# 1. –°–º–æ—Ç—Ä–∏–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
terraform state list

#2. –°–æ—Å—Ç–∞–≤–ª—è–µ–º –ø–ª–∞–Ω —É–¥–∞–ª–µ–Ω–∏—è
terraform plan -destroy \
  -target=yandex_vpc_network.vpn_network \
  -target=yandex_vpc_subnet.vpn_subnet

# –° —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ —Ñ–∞–π–ª
terraform plan -destroy \
  -target=yandex_vpc_network.vpn_network \
  -target=yandex_vpc_subnet.vpn_subnet \
  -out=network-destroy.plan

# 3. –£–¥–∞–ª—è–µ–º  —Å–µ—Ç–∏
terraform destroy -target=yandex_vpc_network.vpn_network \
                 -target=yandex_vpc_subnet.vpn_subnet

# 4. –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º terraform —Ñ–∞–π–ª—ã
# 5. –ü—Ä–∏–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
terraform plan
terraform apply
```
<br>

```bash
terraform state list
```

### **The Best Practice**
–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ - —Å–æ–∑–¥–∞–Ω–∏–µ .sh –∏ Makefile

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å make
```bash
sudo apt update
sudo apt install make
```

–°–æ–∑–¥–∞—Ç—å –≤ –∫–æ—Ä–Ω–µ Makefile —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º

```bash
.PHONY: clean init plan apply destroy fmt validate

clean:
	@echo "üßπ Cleaning temporary files..."
	./cleanup.sh

init:
	@echo "üöÄ Initializing Terraform..."
	terraform init

plan: init
	@echo "üìã Generating plan..."
	terraform plan

apply: init
	@echo "üõ† Applying configuration..."
	terraform apply

destroy: init
	@echo "üóë Destroying infrastructure..."
	terraform destroy

fmt:
	@echo "üé® Formatting code..."
	terraform fmt -recursive

validate: init
	@echo "‚úÖ Validating configuration..."
	terraform validate

output:
	@echo "üì§ Showing outputs..."
	terraform output

state-list:
	@echo "üìù Listing state..."
	terraform state list

# –û—Ç–¥–µ–ª—å–Ω–∞—è —Ü–µ–ª—å –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
reinit: clean init
	@echo "üîÑ Complete reinitialization done!"

# –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
auto-apply: init
	terraform apply -auto-approve
```

–°–æ–∑–¥–∞—Ç—å –≤ –∫–æ—Ä–Ω–µ  cleanup.bh
```bash
#!/bin/bash

# Terraform cleanup script
set -e

echo "üßπ Cleaning Terraform temporary files..."

# Remove Terraform directories and files
rm -rf .terraform/
rm -f *.tfstate
rm -f *.tfstate.backup
rm -f .terraform.lock.hcl
rm -f *.tfplan
rm -f crash.log
rm -f crash.*.log

echo "‚úÖ Cleanup completed!"
```




